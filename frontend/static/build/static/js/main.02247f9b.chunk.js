(this.webpackJsonpstatic=this.webpackJsonpstatic||[]).push([[0],{84:function(e,t,a){},86:function(e,t,a){},96:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(11),c=a.n(r),o=(a(83),a(84),a(19)),i=a(17),l=a.n(i),j=a(23),b=a(12),u=a(16),d=(a(86),a(2)),h=a(5),O=a(1),m=["isAuth"];var x=function(e){var t=e.isAuth,a=Object(h.a)(e,m);return t?Object(O.jsx)(u.b,Object(d.a)({},a)):Object(O.jsx)(u.a,{to:"/login"})},p=a(13),f=a(24),v=a.n(f);var g=Object(u.h)((function(e){var t=Object(n.useState)({username:"",email:"",password1:"",password2:""}),a=Object(b.a)(t,2),s=a[0],r=a[1],c=Object(n.useState)(null),o=Object(b.a)(c,2),i=(o[0],o[1]);function u(e){var t=e.target,a=t.name,n=t.value;r((function(e){return Object(d.a)(Object(d.a)({},e),{},Object(p.a)({},a,n))}))}function h(e){console.warn(e)}function m(){return(m=Object(j.a)(l.a.mark((function t(a){var n,r,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),console.log("user",s),s.password1===s.password2){t.next=6;break}i("Passwords do not match!"),t.next=20;break;case 6:return n={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":v.a.get("csrftoken")},body:JSON.stringify(s)},t.next=9,fetch("/rest-auth/registration/",n).catch(h);case 9:if((r=t.sent).ok){t.next=14;break}console.log(r),t.next=20;break;case 14:return t.next=16,r.json();case 16:c=t.sent,v.a.set("Authorization","Token ".concat(c.key)),e.setUser((function(e){return Object(d.a)(Object(d.a)({},e),{},{isAuth:!0})})),e.history.push("/");case 20:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(O.jsxs)("form",{className:"mt-3 col-4 offset-lg-4 register-form",onSubmit:function(e){return m.apply(this,arguments)},children:[Object(O.jsxs)("div",{className:"form-group text-left mb-3",children:[Object(O.jsx)("label",{htmlFor:"username",children:"Username"}),Object(O.jsx)("input",{type:"text",className:"form-control",id:"username",placeholder:"Enter Username",required:!0,name:"username",value:s.username,onChange:u})]}),Object(O.jsxs)("div",{className:"form-group text-left mb-3",children:[Object(O.jsx)("label",{htmlFor:"email",children:"Email"}),Object(O.jsx)("input",{type:"email",className:"form-control",id:"email",placeholder:"Enter Email",required:!0,name:"email",value:s.email,onChange:u})]}),Object(O.jsxs)("div",{className:"form-group text-left mb-3",children:[Object(O.jsx)("label",{htmlFor:"password1",children:"Password 1"}),Object(O.jsx)("input",{type:"password",className:"form-control",id:"password1",placeholder:"Enter Password",required:!0,name:"password1",value:s.password1,onChange:u})]}),Object(O.jsxs)("div",{className:"form-group text-left mb-3",children:[Object(O.jsx)("label",{htmlFor:"password2",children:"Password 2"}),Object(O.jsx)("input",{type:"password",className:"form-control",id:"password2",placeholder:"Confirm Password",required:!0,name:"password2",value:s.password2,onChange:u})]}),Object(O.jsx)("button",{type:"submit",className:"btn btn-primary mt-3",id:"register-button",children:"Register"})]})}));var k=Object(u.h)((function(e){var t=Object(n.useState)({username:"",password:""}),a=Object(b.a)(t,2),s=a[0],r=a[1];function c(e){var t=e.target,a=t.name,n=t.value;r((function(e){return Object(d.a)(Object(d.a)({},e),{},Object(p.a)({},a,n))}))}function o(e){console.warn(e)}function i(){return(i=Object(j.a)(l.a.mark((function t(a){var n,r,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":v.a.get("csrftoken")},body:JSON.stringify(s)},t.next=4,fetch("/rest-auth/login/",n).catch(o);case 4:if((r=t.sent).ok){t.next=9;break}console.log(r),t.next=15;break;case 9:return t.next=11,r.json();case 11:c=t.sent,v.a.set("Authorization","Token ".concat(c.key)),e.setUser((function(e){return Object(d.a)(Object(d.a)({},e),{},{isAuth:!0})})),e.history.push("/dashboard/");case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return e.isAuth?Object(O.jsx)(u.a,{to:"/"}):Object(O.jsxs)("form",{className:"mt-3 col-4 offset-lg-4 login-form",onSubmit:function(e){return i.apply(this,arguments)},children:[Object(O.jsxs)("div",{className:"form-group text-left mb-3",children:[Object(O.jsx)("label",{htmlFor:"username",children:"Username"}),Object(O.jsx)("input",{type:"text",className:"form-control",id:"username",placeholder:"Enter Username",onChange:c,required:!0,name:"username",value:s.username})]}),Object(O.jsxs)("div",{className:"form-group text-left mb-3",children:[Object(O.jsx)("label",{htmlFor:"password",children:"Password"}),Object(O.jsx)("input",{type:"password",className:"form-control",id:"password",placeholder:"Enter Password",onChange:c,required:!0,name:"password",value:s.password})]}),Object(O.jsx)("button",{type:"submit",className:"btn btn-primary",id:"login-button",children:"Login"})]})}));var y=function(e){var t;return Object(O.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",id:"header-nav",children:Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)("a",{className:"navbar-brand",href:"/",children:"KPF"}),Object(O.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarResponsive","aria-controls":"navbarResponsive","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(O.jsx)("span",{className:"navbar-toggler-icon"})}),Object(O.jsx)("div",{className:"collapse navbar-collapse",id:"navbar-responsive",children:Object(O.jsxs)("ul",(t={className:"navbar-nav ml-auto"},Object(p.a)(t,"className","container d-flex justify-content-end"),Object(p.a)(t,"id","main-nav"),Object(p.a)(t,"children",[e.isAuth&&Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsx)(o.b,{to:"/dashboard",children:"Dashboard"})}),e.isAuth&&Object(O.jsx)("button",{type:"submit",className:"logout",onClick:function(){return e.handleLogout()},children:"Logout"})]),t))})]})})};var w=Object(u.h)((function(){return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("div",{className:"landing-body",children:[Object(O.jsx)("section",{children:"#alwaysimproving"}),Object(O.jsxs)("aside",{children:[Object(O.jsx)("h4",{children:"New to the Factory?"}),Object(O.jsx)("div",{className:"landing-atag",children:Object(O.jsx)(o.b,{to:"/registration",children:"Register Here"})}),Object(O.jsx)("h4",{children:"Back for more? Welcome back."}),Object(O.jsx)("div",{className:"landing-atag",children:Object(O.jsx)(o.b,{to:"/login",children:"Login Here"})})]})]})})})),N=a(64),C=a(76),S=a(77),A=a(71),T=a(72),F=a(42),E=(a(95),a(102)),D=a(103),P=a(104),L={"en-US":F.a},U=Object(N.b)({format:C.a,parse:S.a,startOfWeek:A.a,getDay:T.a,locales:L});var R=Object(u.h)((function(){var e=Object(n.useState)(!1),t=Object(b.a)(e,2),a=t[0],s=t[1],r=Object(n.useState)(),c=Object(b.a)(r,2),o=c[0],i=c[1],h=Object(n.useState)({title:"",start:null,end:null,allDay:!1,gymEvent:!1,details:""}),m=Object(b.a)(h,2),x=m[0],f=m[1],g=(Object(u.g)(),function(e){if("checkbox"!==e.target.type){var t=e.target,a=t.name,n=t.value;f((function(e){return Object(d.a)(Object(d.a)({},e),{},Object(p.a)({},a,n))}))}else f((function(t){return Object(d.a)(Object(d.a)({},t),{},Object(p.a)({},e.target.name,e.target.checked))}))});function k(e){console.warn(e)}function y(){return(y=Object(j.a)(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":v.a.get("csrftoken")},body:JSON.stringify(x)},e.next=3,fetch("/api_v1/events/",a).catch(k);case 3:if((n=e.sent).ok){e.next=8;break}console.log(n),e.next=12;break;case 8:return e.next=10,n.json();case 10:e.sent,s(!1);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(n.useEffect)((function(){function e(){return e=Object(j.a)(l.a.mark((function e(){var t,a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api_v1/events/");case 2:if((t=e.sent).ok){e.next=7;break}console.log(t),e.next=13;break;case 7:return e.next=9,t.json();case 9:a=e.sent,n=a.map((function(e){return Object(d.a)(Object(d.a)({},e),{},{start:new Date(e.start),end:new Date(e.end)})})),i(n),console.log(n);case 13:case"end":return e.stop()}}),e)}))),e.apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var w=function(){return s(!1)},C=function(e){s(!0),f((function(t){return Object(d.a)(Object(d.a)({},t),{},{start:e.start,end:e.end})}))};return o?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"daily-cal",children:Object(O.jsx)(N.a,{selectable:!0,localizer:U,events:o,startAccessor:"start",endAccessor:"end",min:new Date(0,0,0,5,0,0),max:new Date(0,0,0,22,0,0),defaultView:"week",views:["week","day"],onSelectSlot:C,onSelectEvent:C,style:{height:500}})}),Object(O.jsxs)(E.a,{show:a,onHide:w,children:[Object(O.jsx)(E.a.Header,{closeButton:!0,children:Object(O.jsx)(E.a.Title,{children:"Add Event"})}),Object(O.jsx)(E.a.Body,{children:Object(O.jsxs)(D.a.Group,{children:[Object(O.jsx)(D.a.Label,{children:"Title: "}),Object(O.jsx)(D.a.Control,{type:"text",onChange:g,name:"title",value:x.title,placeholder:"Event Title"}),Object(O.jsx)(D.a.Label,{children:"Start: "}),Object(O.jsx)(D.a.Control,{plaintext:!0,readOnly:!0,name:"start",value:x.start}),Object(O.jsx)(D.a.Label,{children:"End: "}),Object(O.jsx)(D.a.Control,{plaintext:!0,readOnly:!0,name:"end",value:x.end}),Object(O.jsx)(D.a.Label,{children:"Details: "}),Object(O.jsx)(D.a.Control,{type:"text",onChange:g,name:"details",value:x.details,placeholder:"Event details..."}),Object(O.jsx)(D.a.Check,{type:"checkbox",label:"All Day",name:"allDay",checked:x.allDay,onChange:g}),Object(O.jsx)(D.a.Check,{type:"checkbox",label:"Community Event",name:"gymEvent",checked:x.gymEvent,onChange:g})]})}),Object(O.jsxs)(E.a.Footer,{children:[Object(O.jsx)(P.a,{type:"button",variant:"success",onClick:function(e){return y.apply(this,arguments)},children:"Save"}),Object(O.jsx)(P.a,{type:"button",variant:"danger",onClick:w,children:"Close"})]})]})]}):Object(O.jsx)("div",{children:"loading"})}));var J=Object(u.h)((function(){var e=Object(n.useState)([]),t=Object(b.a)(e,2),a=t[0],s=t[1];function r(e){return c.apply(this,arguments)}function c(){return(c=Object(j.a)(l.a.mark((function e(t){var a,n,s,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=t.target.value,n=t.target.dataset.id,s={method:"PUT",headers:{"X-CSRFToken":v.a.get("csrftoken"),"Content-Type":"application/json"},body:JSON.stringify({complete:a})},e.next=6,fetch("/api_v1/tasks/".concat(n,"/"),s);case 6:if((r=e.sent).ok){e.next=11;break}console.log(r),e.next=14;break;case 11:return e.next=13,r.json();case 13:e.sent;case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}if(Object(n.useEffect)((function(){function e(){return(e=Object(j.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api_v1/tasks/");case 2:if((t=e.sent).ok){e.next=7;break}console.log(t),e.next=11;break;case 7:return e.next=9,t.json();case 9:a=e.sent,s(a);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),!a)return Object(O.jsx)("div",{children:"spinner thingy"});var o=a.map((function(e){return Object(O.jsxs)("div",{className:"task-item",children:[Object(O.jsx)("input",{type:"checkbox",checked:e.complete,name:"task",onChange:r}),Object(O.jsxs)("label",{children:[" ",e.task," "]})]},e.id)}));return Object(O.jsxs)("div",{className:"task-container",children:[Object(O.jsx)("h4",{children:"Tasks"}),o]})}));var q=Object(u.h)((function(){return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("main",{className:"dashboard-main",children:[Object(O.jsx)(R,{}),Object(O.jsx)(J,{})]})})}));var B=Object(u.h)((function(e){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("header",{children:"Today is: "}),Object(O.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",id:"dash-header",children:Object(O.jsx)("div",{className:"container d-flex justify-content-center",children:Object(O.jsxs)("ul",{className:"navbar-nav",id:"dash-nav",children:[Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsx)(o.b,{to:"/schedule",children:"Schedule"})}),Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsx)(o.b,{to:"/clients",children:"Clients"})}),Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsx)(o.b,{to:"/calendar",children:"Calendar"})}),Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsx)(o.b,{to:"/workout",children:"Daily Workout"})})]})})})]})}));var X=Object(u.h)((function(){var e=Object(n.useState)(null),t=Object(b.a)(e,2),a=t[0],s=t[1],r=Object(u.g)();function c(){return(c=Object(j.a)(l.a.mark((function e(t,n){var c,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":v.a.get("csrftoken")},body:JSON.stringify(a)},e.next=3,fetch("/rest-auth/logout/",c);case 3:if((o=e.sent).ok){e.next=8;break}console.log(o),e.next=14;break;case 8:return e.next=10,o.json();case 10:e.sent,v.a.remove("Authorization"),s({isAuth:!1}),r.push("/");case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(n.useEffect)((function(){var e=function(){var e=Object(j.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/rest-auth/user/");case 2:if((t=e.sent).ok){e.next=7;break}s({isAuth:!1}),e.next=11;break;case 7:return e.next=9,t.json();case 9:a=e.sent,s({isAuth:!0,isAdmin:a.is_staff});case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[r]);var o=null===a||void 0===a?void 0:a.isAuth,i=null===a||void 0===a?void 0:a.isAdmin;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(y,{isAuth:o,isAdmin:i,handleLogout:function(e,t){return c.apply(this,arguments)}}),Object(O.jsxs)(u.d,{children:[Object(O.jsx)(u.b,{path:"/registration",children:Object(O.jsx)(g,{isAuth:o,setUser:s})}),Object(O.jsx)(u.b,{path:"/login",children:Object(O.jsx)(k,{isAuth:o,setUser:s})}),Object(O.jsxs)(x,{path:"/dashboard",isAuth:o,isAdmin:i,children:[Object(O.jsx)(B,{}),Object(O.jsx)(q,{})]}),Object(O.jsx)(u.b,{path:"/",exact:!0,children:Object(O.jsx)(w,{isAuth:o,isAdmin:i})})]})]})})),_=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,105)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,r=t.getLCP,c=t.getTTFB;a(e),n(e),s(e),r(e),c(e)}))};c.a.render(Object(O.jsx)(s.a.StrictMode,{children:Object(O.jsx)(o.a,{children:Object(O.jsx)(X,{})})}),document.getElementById("root")),_()}},[[96,1,2]]]);
//# sourceMappingURL=main.02247f9b.chunk.js.map