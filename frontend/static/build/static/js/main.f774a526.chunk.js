(this.webpackJsonpstatic=this.webpackJsonpstatic||[]).push([[0],{125:function(e,t,n){},127:function(e,t,n){},138:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(21),s=n.n(r),o=(n(124),n(125),n(22)),i=n(6),l=n.n(i),u=n(3),j=n(13),d=n(8),b=n(25),h=(n(127),n(116)),p=n(9),f=n(2),O=["isAuth","component"];var x=function(e){var t=e.isAuth,n=e.component,a=Object(p.a)(e,O);return t?Object(f.jsx)(n,Object(u.a)({isAuth:t},a)):Object(f.jsx)(b.a,{to:"/login"})},m=n(10),v=n(16),k=n.n(v);var g=Object(b.i)((function(e){var t=Object(a.useState)({username:"",email:"",password1:"",password2:""}),n=Object(d.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(null),o=Object(d.a)(s,2),i=(o[0],o[1]);function b(e){var t=e.target,n=t.name,a=t.value;r((function(e){return Object(u.a)(Object(u.a)({},e),{},Object(m.a)({},n,a))}))}function h(e){console.warn(e)}function p(){return(p=Object(j.a)(l.a.mark((function t(n){var a,r,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),console.log("user",c),c.password1===c.password2){t.next=6;break}i("Passwords do not match!"),t.next=20;break;case 6:return a={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":k.a.get("csrftoken")},body:JSON.stringify(c)},t.next=9,fetch("/rest-auth/registration/",a).catch(h);case 9:if((r=t.sent).ok){t.next=14;break}console.log(r),t.next=20;break;case 14:return t.next=16,r.json();case 16:s=t.sent,k.a.set("Authorization","Token ".concat(s.key)),e.setUser((function(e){return Object(u.a)(Object(u.a)({},e),{},{isAuth:!0})})),e.history.push("/profile");case 20:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(f.jsx)("div",{className:"register-container",children:Object(f.jsxs)("form",{className:"col-4 offset-lg-4 register-form",onSubmit:function(e){return p.apply(this,arguments)},children:[Object(f.jsxs)("div",{className:"form-group text-left mb-3",children:[Object(f.jsx)("label",{htmlFor:"username",children:"Username"}),Object(f.jsx)("input",{type:"text",className:"form-control",id:"username",placeholder:"Enter Username",required:!0,name:"username",value:c.username,onChange:b})]}),Object(f.jsxs)("div",{className:"form-group text-left mb-3",children:[Object(f.jsx)("label",{htmlFor:"email",children:"Email"}),Object(f.jsx)("input",{type:"email",className:"form-control",id:"email",placeholder:"Enter Email",required:!0,name:"email",value:c.email,onChange:b})]}),Object(f.jsxs)("div",{className:"form-group text-left mb-3",children:[Object(f.jsx)("label",{htmlFor:"password1",children:"Password"}),Object(f.jsx)("input",{type:"password",className:"form-control",id:"password1",placeholder:"Enter Password",required:!0,name:"password1",value:c.password1,onChange:b})]}),Object(f.jsxs)("div",{className:"form-group text-left mb-3",children:[Object(f.jsx)("label",{htmlFor:"password2",children:"Confirm Password"}),Object(f.jsx)("input",{type:"password",className:"form-control",id:"password2",placeholder:"Confirm Password",required:!0,name:"password2",value:c.password2,onChange:b})]}),Object(f.jsx)("button",{type:"submit",className:"btn btn-danger mt-3",id:"register-button",children:"Register"})]})})}));var y=Object(b.i)((function(e){var t=Object(a.useState)({username:"",password:""}),n=Object(d.a)(t,2),c=n[0],r=n[1];function s(e){var t=e.target,n=t.name,a=t.value;r((function(e){return Object(u.a)(Object(u.a)({},e),{},Object(m.a)({},n,a))}))}function i(e){console.warn(e)}function h(){return(h=Object(j.a)(l.a.mark((function t(n){var a,r,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),a={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":k.a.get("csrftoken")},body:JSON.stringify(c)},t.next=4,fetch("/rest-auth/login/",a).catch(i);case 4:if((r=t.sent).ok){t.next=9;break}console.log(r),t.next=15;break;case 9:return t.next=11,r.json();case 11:s=t.sent,k.a.set("Authorization","Token ".concat(s.key)),e.setUser((function(e){return Object(u.a)(Object(u.a)({},e),{},{isAuth:!0,isAdmin:s.user.is_staff,username:s.user.username})})),s.user.is_staff?e.history.push("/dashboard/"):e.history.push("/workouts/");case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return e.isAuth&&e.isAdmin?Object(f.jsx)(b.a,{to:"/dashboard"}):e.isAuth?Object(f.jsx)(b.a,{to:"/workouts"}):Object(f.jsx)("div",{className:"login-container",children:Object(f.jsxs)("form",{className:"col-4 offset-lg-4 login-form",onSubmit:function(e){return h.apply(this,arguments)},children:[Object(f.jsxs)("div",{className:"form-group text-left mb-3",children:[Object(f.jsx)("label",{htmlFor:"username",children:"Username"}),Object(f.jsx)("input",{type:"text",className:"form-control",id:"username",placeholder:"Enter Username",onChange:s,required:!0,name:"username",value:c.username})]}),Object(f.jsxs)("div",{className:"form-group text-left mb-3",children:[Object(f.jsx)("label",{htmlFor:"password",children:"Password"}),Object(f.jsx)("input",{type:"password",className:"form-control",id:"password",placeholder:"Enter Password",onChange:s,required:!0,name:"password",value:c.password})]}),Object(f.jsx)("button",{type:"submit",className:"btn btn-danger",id:"login-button",children:"Login"}),Object(f.jsxs)("div",{children:["Not a member yet? Register ",Object(f.jsx)(o.b,{to:"/registration",children:"here."})]})]})})})),w=n(108);var C=function(e){return Object(f.jsx)("nav",{className:"navbar navbar-expand-lg",id:"header-nav",children:Object(f.jsxs)("div",{className:"container-fluid",children:[Object(f.jsx)("img",{className:"navbar-brand",src:"https://static1.squarespace.com/static/5fd13e0a92170d49d8b2c1e1/t/5fd6a3389264095525ddb611/1629747281826/",alt:"logo"}),e.isAuth&&Object(f.jsxs)("button",{type:"submit",className:"logout",onClick:function(){return e.handleLogout()},children:["Logout ",Object(f.jsx)(w.a,{})]})]})})};var N=Object(b.i)((function(){return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"landing-body",children:[Object(f.jsxs)("section",{children:[Object(f.jsx)("div",{children:"Where fitness + performance collide."}),Object(f.jsx)("div",{id:"landing-welcome",children:"Welcome to the Factory."})]}),Object(f.jsxs)("aside",{children:[Object(f.jsx)("h4",{children:"New to the Factory?"}),Object(f.jsx)("div",{className:"landing-atag",children:Object(f.jsx)(o.c,{to:"/registration",children:"Register Here"})}),Object(f.jsx)("h4",{children:"Back for more?"}),Object(f.jsx)("div",{className:"landing-atag",children:Object(f.jsx)(o.c,{to:"/login",children:"Login Here"})})]})]})})})),S=n(18),T=n(64),_=n(88),A=n(89),F=n(83),E=n(84),D=n(54),P=(n(104),n(160)),R=n(162),L=n(165),U={title:"",start:null,end:null,allDay:!1,gymEvent:!1,details:""},X={"en-US":D.a},I=Object(T.b)({format:_.a,parse:A.a,startOfWeek:F.a,getDay:E.a,locales:X});var H=Object(b.i)((function(){var e=Object(a.useState)(!1),t=Object(d.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(),s=Object(d.a)(r,2),o=s[0],i=s[1],b=Object(a.useState)(U),h=Object(d.a)(b,2),p=h[0],O=h[1],x=function(e){if("checkbox"!==e.target.type){var t=e.target,n=t.name,a=t.value;O((function(e){return Object(u.a)(Object(u.a)({},e),{},Object(m.a)({},n,a))}))}else O((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(m.a)({},e.target.name,e.target.checked))}))};function v(e){console.warn(e)}function g(){return(g=Object(j.a)(l.a.mark((function e(t){var n,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":k.a.get("csrftoken")},body:JSON.stringify(p)},e.next=3,fetch("/api_v1/events/?type=coach",n).catch(v);case 3:if((a=e.sent).ok){e.next=8;break}console.log(a),e.next=16;break;case 8:return e.next=10,a.json();case 10:(r=e.sent).start=new Date(r.start),r.end=new Date(r.end),c(!1),O(U),i([].concat(Object(S.a)(o),[r]));case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){return(y=Object(j.a)(l.a.mark((function e(){var t,n,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"PUT",headers:{"X-CSRFToken":k.a.get("csrftoken"),"Content-Type":"application/json"},body:JSON.stringify(p)},e.next=3,fetch("/api_v1/events/".concat(p.id,"/"),t).catch(v);case 3:(n=e.sent).ok?(c(!1),a=Object(S.a)(o),r=a.findIndex((function(e){return e.id===p.id})),a[r]=p,i(a),O(U)):console.log(n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(){return(w=Object(j.a)(l.a.mark((function e(){var t,n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api_v1/events/".concat(p.id,"/"),{method:"DELETE",headers:{"X-CSRFToken":k.a.get("csrftoken")}});case 2:(t=e.sent).ok?(n=Object(S.a)(o),a=n.findIndex((function(e){return e.id===p.id})),n.splice(a,1),i(n),c(!1)):console.log(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return(C=Object(j.a)(l.a.mark((function e(){var t,n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("api_v1/events/".concat(p.id,"/cancellation/"),{method:"DELETE",headers:{"X-CSRFToken":k.a.get("csrftoken")}});case 2:(t=e.sent).ok?(n=Object(S.a)(o),a=n.findIndex((function(e){return e.id==p.id})),n.splice(a,1),i(n),c(!1)):console.log(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(a.useEffect)((function(){function e(){return e=Object(j.a)(l.a.mark((function e(){var t,n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api_v1/events/?type=coach");case 2:if((t=e.sent).ok){e.next=7;break}console.log(t),e.next=13;break;case 7:return e.next=9,t.json();case 9:n=e.sent,a=n.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{start:new Date(e.start),end:new Date(e.end)})})),i(a),console.log(a);case 13:case"end":return e.stop()}}),e)}))),e.apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var N=function(){c(!1),O(U)};return o?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"daily-cal",children:Object(f.jsx)(T.a,{selectable:!0,localizer:I,events:o,startAccessor:"start",endAccessor:"end",min:new Date(0,0,0,5,0,0),max:new Date(0,0,0,22,0,0),defaultView:"week",views:["week","day"],onSelectSlot:function(e){c(!0),O((function(t){return Object(u.a)(Object(u.a)({},t),{},{start:e.start,end:e.end})}))},onSelectEvent:function(e){O(Object(u.a)(Object(u.a)({},e),{},{title:e.title,start:e.start,end:e.end,details:e.details})),c(!0)},style:{height:900}})}),Object(f.jsxs)(P.a,{show:n,onHide:N,children:[Object(f.jsx)(P.a.Header,{closeButton:!0,children:Object(f.jsx)(P.a.Title,{children:"Add Event"})}),Object(f.jsx)(P.a.Body,{children:Object(f.jsxs)(R.a.Group,{children:[Object(f.jsx)(R.a.Label,{children:"Title: "}),Object(f.jsx)(R.a.Control,{type:"text",onChange:x,name:"title",value:p.title,autoComplete:"off",placeholder:"Event Title"}),Object(f.jsx)(R.a.Label,{children:"Start: "}),Object(f.jsx)(R.a.Control,{plaintext:!0,readOnly:!0,name:"start",value:p.start}),Object(f.jsx)(R.a.Label,{children:"End: "}),Object(f.jsx)(R.a.Control,{plaintext:!0,readOnly:!0,name:"end",value:p.end}),Object(f.jsx)(R.a.Label,{children:"Details: "}),Object(f.jsx)(R.a.Control,{type:"text",onChange:x,name:"details",value:p.details,autoComplete:"off",placeholder:"Event details..."}),Object(f.jsx)(R.a.Check,{type:"checkbox",label:"All Day",name:"allDay",checked:p.allDay,onChange:x}),Object(f.jsx)(R.a.Check,{type:"checkbox",label:"Community Event",name:"gymEvent",checked:p.gymEvent,onChange:x})]})}),Object(f.jsxs)(P.a.Footer,{children:[p.id?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(L.a,{type:"button",variant:"info",onClick:function(){return C.apply(this,arguments)},children:"Cancel Event"}),Object(f.jsx)(L.a,{type:"button",variant:"warning",onClick:function(){return y.apply(this,arguments)},children:"Update"}),Object(f.jsx)(L.a,{type:"button",variant:"dark",onClick:function(){return w.apply(this,arguments)},children:"Delete"})]}):Object(f.jsx)(L.a,{type:"button",variant:"success",onClick:function(e){return g.apply(this,arguments)},children:"Save"}),Object(f.jsx)(L.a,{type:"button",variant:"danger",onClick:N,children:"Close"})]})]})]}):Object(f.jsx)("div",{children:"loading spinner"})})),J=n(58),B=n(85);function q(e){var t=Object(a.useState)(!1),n=Object(d.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(e.task.text),o=Object(d.a)(s,2),i=o[0],l=o[1],j=e.task,b=j.id,h=j.text,p=j.complete;return Object(f.jsxs)("div",{className:"task-item",children:[Object(f.jsx)("input",{type:"checkbox",checked:p,name:"complete",onChange:e.toggleCompletion,value:b}),c?Object(f.jsx)("input",{type:"text",name:"editText",value:i,onChange:function(e){l(e.target.value)}}):Object(f.jsx)("label",{children:h}),c?Object(f.jsx)("button",{type:"button",className:"save-task-btn",onClick:function(t){var n=Object(u.a)(Object(u.a)({},e.task),{},{text:i});e.handleUpdate(n),r(!1)},children:Object(f.jsx)(B.a,{})}):Object(f.jsx)("button",{type:"button",className:"edit-task-btn",onClick:function(){return r(!0)},children:Object(f.jsx)(J.b,{})}),Object(f.jsx)("button",{type:"button",className:"delete-task-btn",onClick:e.handleDelete,value:b,children:Object(f.jsx)(J.d,{})})]})}var W=Object(b.i)((function(e){var t=Object(a.useState)([]),n=Object(d.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(!1),o=Object(d.a)(s,2),i=o[0],u=o[1],b=Object(a.useState)(""),h=Object(d.a)(b,2),p=h[0],O=h[1];Object(a.useEffect)((function(){function e(){return(e=Object(j.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api_v1/tasks/");case 2:if((t=e.sent).ok){e.next=7;break}console.log(t),e.next=11;break;case 7:return e.next=9,t.json();case 9:n=e.sent,r(n);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var x=function(){var e=Object(j.a)(l.a.mark((function e(t){var n,a,s,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"PUT",headers:{"X-CSRFToken":k.a.get("csrftoken"),"Content-Type":"application/json"},body:JSON.stringify(t)},e.next=3,fetch("/api_v1/tasks/".concat(t.id,"/"),n);case 3:(a=e.sent).ok?(s=Object(S.a)(c),o=s.findIndex((function(e){return e.id===t.id})),s[o]=t,r(s)):console.log(a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(j.a)(l.a.mark((function e(t){var n,a,s,o,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.currentTarget.value,a={method:"DELETE",headers:{"X-CSRFToken":k.a.get("csrftoken")}},e.next=4,fetch("/api_v1/tasks/".concat(n,"/"),a);case 4:(s=e.sent).ok?(o=Object(S.a)(c),i=o.findIndex((function(e){return e.id==n})),o.splice(i,1),r(o)):console.log(s);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(j.a)(l.a.mark((function e(t){var n,a,s,o,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(S.a)(c),a=t.target.value,s=n.findIndex((function(e){return e.id==t.target.value})),n[s].complete=!n[s].complete,r(n),o={method:"PATCH",headers:{"X-CSRFToken":k.a.get("csrftoken"),"Content-Type":"application/json"},body:JSON.stringify({complete:n[s].complete})},e.next=8,fetch("/api_v1/tasks/".concat(a,"/"),o);case 8:(i=e.sent).ok||console.log(i);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function g(e){console.warn(e)}function y(){return(y=Object(j.a)(l.a.mark((function e(t){var n,a,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":k.a.get("csrftoken")},body:JSON.stringify({text:p})},e.next=3,fetch("/api_v1/tasks/",n).catch(g);case 3:if((a=e.sent).ok){e.next=8;break}console.log(a),e.next=14;break;case 8:return e.next=10,a.json();case 10:s=e.sent,u(!1),O(""),r([].concat(Object(S.a)(c),[s]));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var w=function(){return u(!1)};if(!c)return Object(f.jsx)("div",{children:"spinner thingy"});var C=c.map((function(e){return Object(f.jsx)(q,{task:e,toggleCompletion:v,handleDelete:m,handleUpdate:x},e.id)}));return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"task-container",children:[Object(f.jsx)("h4",{children:"Tasks"}),C,Object(f.jsxs)("button",{type:"button",className:"add-task-btn",onClick:function(){return u(!0)},children:["Add task ",Object(f.jsx)(J.a,{})]})]}),Object(f.jsxs)(P.a,{show:i,onHide:w,children:[Object(f.jsx)(P.a.Header,{closeButton:!0,children:Object(f.jsx)(P.a.Title,{children:"New Task"})}),Object(f.jsx)(P.a.Body,{children:Object(f.jsxs)(R.a.Group,{children:[Object(f.jsx)(R.a.Label,{children:"Task:"}),Object(f.jsx)(R.a.Control,{type:"text",onChange:function(e){return O(e.target.value)},autoComplete:"off",name:"text",value:p})]})}),Object(f.jsxs)(P.a.Footer,{children:[Object(f.jsx)(L.a,{type:"button",variant:"success",onClick:function(e){return y.apply(this,arguments)},children:"Add"}),Object(f.jsx)(L.a,{type:"button",variant:"danger",onClick:w,children:"Close"})]})]})]})}));var G=Object(b.i)((function(){return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("main",{className:"dashboard-main",children:[Object(f.jsx)(H,{}),Object(f.jsx)(W,{})]})})}));var z=Object(b.i)((function(e){var t=new Date,n=Object(_.a)(t,"PPPP");return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("header",{className:"dash-header bg-dark",children:["Welcome ",e.username,"!  Today is ",n," "]}),Object(f.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",id:"dash-header",children:Object(f.jsx)("div",{className:"container d-flex justify-content-center",children:Object(f.jsxs)("ul",{className:"navbar-nav",id:"dash-nav",children:[e.isAdmin&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("li",{className:"nav-item",children:Object(f.jsx)(o.c,{to:"/dashboard",children:"Dashboard"})}),Object(f.jsx)("li",{className:"nav-item",children:Object(f.jsx)(o.c,{to:"/clients",children:"Clients"})}),Object(f.jsx)("li",{className:"nav-item",children:Object(f.jsx)(o.c,{to:"/calendar",children:"Event Calendar"})}),Object(f.jsx)("li",{className:"nav-item",children:Object(f.jsx)(o.c,{to:"/workouts",children:"Workouts + Group Training"})})]}),!e.isAdmin&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("li",{className:"nav-item",children:Object(f.jsx)(o.c,{to:"/calendar",children:"Event Calendar"})}),Object(f.jsx)("li",{className:"nav-item",children:Object(f.jsx)(o.c,{to:"/workouts",children:"Workouts + Group Training"})}),Object(f.jsx)("li",{className:"nav-item",children:Object(f.jsx)(o.c,{to:"/profile",children:"Manage Profile"})})]})]})})})]})})),M={title:"",start:null,end:null,allDay:!1,gymEvent:!1,details:""},V={"en-US":D.a},K=Object(T.b)({format:_.a,parse:A.a,startOfWeek:F.a,getDay:E.a,locales:V});var Y=Object(b.i)((function(e){var t=Object(a.useState)(),n=Object(d.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(M),o=Object(d.a)(s,2),i=o[0],b=o[1],h=Object(a.useState)(!1),p=Object(d.a)(h,2),O=p[0],x=p[1],v=function(e){if("checkbox"!==e.target.type){var t=e.target,n=t.name,a=t.value;b((function(e){return Object(u.a)(Object(u.a)({},e),{},Object(m.a)({},n,a))}))}else b((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(m.a)({},e.target.name,e.target.checked))}))};function g(e){console.warn(e)}function y(){return(y=Object(j.a)(l.a.mark((function e(t){var n,a,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":k.a.get("csrftoken")},body:JSON.stringify(i)},e.next=3,fetch("/api_v1/events/",n).catch(g);case 3:if((a=e.sent).ok){e.next=8;break}console.log(a),e.next=16;break;case 8:return e.next=10,a.json();case 10:(s=e.sent).start=new Date(s.start),s.end=new Date(s.end),x(!1),b(M),r([].concat(Object(S.a)(c),[s]));case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(){return(w=Object(j.a)(l.a.mark((function e(){var t,n,a,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"PUT",headers:{"X-CSRFToken":k.a.get("csrftoken"),"Content-Type":"application/json"},body:JSON.stringify(i)},e.next=3,fetch("/api_v1/events/".concat(i.id,"/"),t).catch(g);case 3:(n=e.sent).ok?(x(!1),a=Object(S.a)(c),s=a.findIndex((function(e){return e.id===i.id})),a[s]=i,r(a),b(M)):console.log(n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return(C=Object(j.a)(l.a.mark((function e(){var t,n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api_v1/events/".concat(i.id,"/"),{method:"DELETE",headers:{"X-CSRFToken":k.a.get("csrftoken")}});case 2:(t=e.sent).ok?(n=Object(S.a)(c),a=n.findIndex((function(e){return e.id==i.id})),n.splice(a,1),r(n),x(!1)):console.log(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(){return(N=Object(j.a)(l.a.mark((function e(){var t,n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("api_v1/events/".concat(i.id,"/cancellation/"),{method:"DELETE",headers:{"X-CSRFToken":k.a.get("csrftoken")}});case 2:(t=e.sent).ok?(n=Object(S.a)(c),a=n.findIndex((function(e){return e.id==i.id})),n.splice(a,1),r(n),x(!1)):console.log(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(a.useEffect)((function(){function e(){return e=Object(j.a)(l.a.mark((function e(){var t,n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api_v1/events/?type=community");case 2:if((t=e.sent).ok){e.next=7;break}console.log(t),e.next=12;break;case 7:return e.next=9,t.json();case 9:n=e.sent,a=n.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{start:new Date(e.start),end:new Date(e.end)})})),r(a);case 12:case"end":return e.stop()}}),e)}))),e.apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var _=function(){x(!1),b(M)};function A(){return(A=Object(j.a)(l.a.mark((function e(){var t,n,a,s,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"PUT",headers:{"X-CSRFToken":k.a.get("csrftoken"),"Content-Type":"application/json"},body:JSON.stringify(i)},e.next=3,fetch("/api_v1/events/register/".concat(i.id,"/"),t).catch(g);case 3:if((n=e.sent).ok){e.next=8;break}console.log(n),e.next=17;break;case 8:return x(!1),e.next=11,n.json();case 11:a=e.sent,s=Object(S.a)(c),o=s.findIndex((function(e){return e.id===i.id})),s[o]=a,console.log("data",a),r(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return c?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("h2",{children:"Community Events Calendar"}),Object(f.jsx)("div",{className:"monthly-cal",children:Object(f.jsx)(T.a,{selectable:!0,localizer:K,events:c,startAccessor:"start",endAccessor:"end",min:new Date(0,0,0,5,0,0),max:new Date(0,0,0,22,0,0),defaultView:"month",views:["month","week"],onSelectSlot:function(e){x(!0),b((function(t){return Object(u.a)(Object(u.a)({},t),{},{start:e.start,end:e.end})}))},onSelectEvent:function(e){b(Object(u.a)(Object(u.a)({},e),{},{title:e.title,start:e.start,end:e.end,details:e.details})),x(!0)},style:{height:700}})}),e.isAdmin&&Object(f.jsxs)(P.a,{show:O,onHide:_,children:[Object(f.jsx)(P.a.Header,{closeButton:!0,children:Object(f.jsx)(P.a.Title,{children:"Add Event"})}),Object(f.jsx)(P.a.Body,{children:Object(f.jsxs)(R.a.Group,{children:[Object(f.jsx)(R.a.Label,{children:"Title: "}),Object(f.jsx)(R.a.Control,{type:"text",onChange:v,name:"title",value:i.title,placeholder:"Event Title"}),Object(f.jsx)(R.a.Label,{children:"Start: "}),Object(f.jsx)(R.a.Control,{name:"start",value:i.start}),Object(f.jsx)(R.a.Label,{children:"End: "}),Object(f.jsx)(R.a.Control,{name:"end",value:i.end}),Object(f.jsx)(R.a.Label,{children:"Details: "}),Object(f.jsx)(R.a.Control,{type:"text",onChange:v,name:"details",value:i.details,autoComplete:"off",placeholder:"Event details..."}),Object(f.jsx)(R.a.Check,{type:"checkbox",label:"All Day",name:"allDay",checked:i.allDay,onChange:v}),Object(f.jsx)(R.a.Check,{type:"checkbox",label:"Community Event",name:"gymEvent",checked:i.gymEvent,onChange:v})]})}),Object(f.jsxs)(P.a.Footer,{children:[i.id?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(L.a,{type:"button",variant:"info",onClick:function(){return N.apply(this,arguments)},children:"Cancel Event"}),Object(f.jsx)(L.a,{type:"button",variant:"warning",onClick:function(){return w.apply(this,arguments)},children:"Update"}),Object(f.jsx)(L.a,{type:"button",variant:"dark",onClick:function(){return C.apply(this,arguments)},children:"Delete"})]}):Object(f.jsx)(L.a,{type:"button",variant:"success",onClick:function(e){return y.apply(this,arguments)},children:"Save"}),Object(f.jsx)(L.a,{type:"button",variant:"danger",onClick:_,children:"Close"})]})]}),!e.isAdmin&&Object(f.jsxs)(P.a,{show:O,onHide:_,children:[Object(f.jsx)(P.a.Header,{closeButton:!0,children:Object(f.jsx)(P.a.Title,{children:"Event"})}),Object(f.jsxs)(P.a.Body,{children:[Object(f.jsx)("div",{children:i.title}),Object(f.jsx)("div",{children:i.details})]}),Object(f.jsxs)(P.a.Footer,{children:[Object(f.jsx)(L.a,{type:"button",variant:"success",onClick:function(){return A.apply(this,arguments)},children:i.is_registered?"Unregister":"Register"}),Object(f.jsx)(L.a,{type:"button",variant:"danger",onClick:_,children:"Close"})]})]})]}):Object(f.jsx)("div",{children:"loading SPINNER"})}));function Q(e){var t=Object(a.useState)(!1),n=Object(d.a)(t,2),c=n[0],r=n[1],s=function(){return r(!1)},o=e.session;return Object(f.jsxs)("div",{className:"session",children:[Object(f.jsxs)("div",{className:"session-time",children:[Object(f.jsxs)("time",{children:[Object(_.a)(new Date(o.start),"p")," - "]}),Object(f.jsx)("time",{children:Object(_.a)(new Date(o.end),"p")})]}),!e.isAdmin&&Object(f.jsx)("button",{type:"button",onClick:function(){return e.handleRegister(o)},children:o.is_registered?"Unregister":"Register"}),e.isAdmin&&o.attendees.length>0&&Object(f.jsx)("button",{type:"button",className:"add-attendee-btn",onClick:function(){return r(!0)},children:"Attendees"}),Object(f.jsxs)(P.a,{show:c,onHide:s,children:[Object(f.jsx)(P.a.Header,{closeButton:!0,children:Object(f.jsx)(P.a.Title,{children:"Attendees"})}),Object(f.jsx)(P.a.Body,{children:Object(f.jsx)("div",{children:o.attendee_list.map((function(e){return Object(f.jsxs)("div",{children:[e.first_name," ",e.last_name]})}))})}),Object(f.jsx)(P.a.Footer,{children:Object(f.jsx)(L.a,{type:"button",variant:"danger",onClick:s,children:"Close"})})]})]})}var Z=Object(b.i)((function(e){Object(b.h)().filter;var t=Object(a.useState)(),n=Object(d.a)(t,2),c=n[0],r=n[1];function s(e){console.warn(e)}function o(e){return i.apply(this,arguments)}function i(){return(i=Object(j.a)(l.a.mark((function e(t){var n,a,o,i,j,d,b;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"PUT",headers:{"X-CSRFToken":k.a.get("csrftoken"),"Content-Type":"application/json"},body:JSON.stringify(t)},e.next=3,fetch("/api_v1/events/register/".concat(t.id,"/"),n).catch(s);case 3:if((a=e.sent).ok){e.next=8;break}console.log(a),e.next=18;break;case 8:return e.next=10,a.json();case 10:o=e.sent,i=new Date(o.start).toDateString(),j=Object(S.a)(c[i]),d=j.findIndex((function(e){return e.id===o.id})),j[d]=o,(b=Object(u.a)({},c))[i]=j,r(b);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}if(Object(a.useEffect)((function(){function e(){return e=Object(j.a)(l.a.mark((function e(){var t,n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api_v1/events/?type=session");case 2:if((t=e.sent).ok){e.next=5;break}throw new Error("Network response was not OK");case 5:return n={},e.next=8,t.json();case 8:a=e.sent,console.log("data",a),a.forEach((function(e){var t=new Date(e.start).toDateString();n[t]=n[t]?[].concat(Object(S.a)(n[t]),[Object(u.a)(Object(u.a)({},e),{},{start:e.start.toString(),end:e.end.toString()})]):[Object(u.a)(Object(u.a)({},e),{},{start:e.start.toString(),end:e.end.toString()})]})),r(n);case 12:case"end":return e.stop()}}),e)}))),e.apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),!c)return Object(f.jsx)("div",{children:"No Sessions"});var h=Object.keys(c);console.log(h);var p=h.map((function(t){var n=c[t].map((function(t){return Object(f.jsx)(Q,{session:t,handleRegister:o,isAdmin:e.isAdmin})}));return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("h5",{className:"session-day",children:[t,":"]}),n]})}));return Object(f.jsx)(f.Fragment,{children:p})}));function $(e){var t=Object(a.useState)(!1),n=Object(d.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(e.workout),o=Object(d.a)(s,2),i=o[0],l=o[1],j=function(e){var t=e.target,n=t.name,a=t.value;l((function(e){return Object(u.a)(Object(u.a)({},e),{},Object(m.a)({},n,a))}))};return Object(f.jsxs)("div",{className:"workout",children:[c?Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{children:[Object(f.jsx)("label",{htmlFor:"date",children:"Date"}),Object(f.jsx)("input",{id:"date",type:"date",name:"date",value:i.date,min:"2021-11-01",onChange:j}),Object(f.jsx)("textarea",{type:"text",name:"text",id:"text",className:"workout-edit-box",rows:5,cols:20,value:i.text,onChange:j}),Object(f.jsxs)("button",{type:"button",className:"save-workout-btn",onClick:function(t){e.handleUpdate(i),r(!1)},children:["Save ",Object(f.jsx)(B.a,{})]})]})}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("h5",{className:"workout-date",children:Object(_.a)(new Date(e.workout.date+"T08:00:00"),"PPPP")}),Object(f.jsx)("article",{children:e.workout.text}),e.isAdmin&&Object(f.jsx)("button",{type:"button",className:"edit-workout-btn",onClick:function(){return r(!0)},children:Object(f.jsx)(J.b,{})})]}),e.isAdmin&&Object(f.jsx)("button",{type:"button",className:"delete-workout-btn",value:i.id,onClick:e.handleDelete,children:Object(f.jsx)(J.d,{})})]})}var ee=Object(b.i)((function(e){var t=Object(a.useState)([]),n=Object(d.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(!1),o=Object(d.a)(s,2),i=o[0],u=o[1],b=Object(a.useState)(""),h=Object(d.a)(b,2),p=h[0],O=h[1],x=Object(a.useState)((new Date).toISOString().substr(0,10)),m=Object(d.a)(x,2),v=m[0],g=m[1];Object(a.useEffect)((function(){function e(){return(e=Object(j.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api_v1/workouts/");case 2:if((t=e.sent).ok){e.next=7;break}console.log(t),e.next=11;break;case 7:return e.next=9,t.json();case 9:n=e.sent,r(n);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var y=function(){var e=Object(j.a)(l.a.mark((function e(t){var n,a,s,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"PUT",headers:{"X-CSRFToken":k.a.get("csrftoken"),"Content-Type":"application/json"},body:JSON.stringify(t)},e.next=3,fetch("/api_v1/workouts/".concat(t.id,"/"),n);case 3:(a=e.sent).ok?(s=Object(S.a)(c),o=s.findIndex((function(e){return e.id===t.id})),s[o]=t,r(s)):console.log(a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(j.a)(l.a.mark((function e(t){var n,a,s,o,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.currentTarget.value,a={method:"DELETE",headers:{"X-CSRFToken":k.a.get("csrftoken")}},e.next=4,fetch("/api_v1/workouts/".concat(n,"/"),a);case 4:(s=e.sent).ok?(o=Object(S.a)(c),i=o.findIndex((function(e){return e.id==n})),o.splice(i,1),r(o)):console.log(s);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function C(e){console.warn(e)}function N(){return(N=Object(j.a)(l.a.mark((function e(){var t,n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":k.a.get("csrftoken")},body:JSON.stringify({date:v,text:p})},e.next=3,fetch("/api_v1/workouts/",t).catch(C);case 3:if((n=e.sent).ok){e.next=8;break}console.log(n),e.next=14;break;case 8:return e.next=10,n.json();case 10:a=e.sent,u(!1),O(""),r([].concat(Object(S.a)(c),[a]));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var T=function(){return u(!1)};if(!c)return Object(f.jsx)("div",{children:"spinner thingy"});var _=c.map((function(t){return Object(f.jsx)($,{workout:t,handleDelete:w,handleUpdate:y,isAdmin:e.isAdmin},t.id)}));return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"workout-container",children:[Object(f.jsxs)("section",{className:"workout-list",children:[Object(f.jsxs)("div",{className:"workout-header",children:[Object(f.jsx)("h3",{children:"Adult Performance Workouts"}),e.isAdmin&&Object(f.jsxs)("button",{type:"button",className:"add-workout-btn",onClick:function(){return u(!0)},children:["Add ",Object(f.jsx)(J.c,{})]})]}),_]}),Object(f.jsxs)("section",{className:"class-list",children:[Object(f.jsx)("h3",{children:"Adult Performance Group Training"}),Object(f.jsx)(Z,{isAuth:e.isAuth,isAdmin:e.isAdmin})]})]}),Object(f.jsxs)(P.a,{show:i,onHide:T,children:[Object(f.jsx)(P.a.Header,{closeButton:!0,children:Object(f.jsx)(P.a.Title,{children:"Add New Workout"})}),Object(f.jsx)(P.a.Body,{children:Object(f.jsxs)(R.a.Group,{children:[Object(f.jsx)(R.a.Label,{children:"Date:"}),Object(f.jsx)(R.a.Control,{type:"date",name:"workout-date",value:v,min:v,onChange:function(e){return g(e.target.value)}}),Object(f.jsx)(R.a.Label,{children:"Workout:"}),Object(f.jsx)(R.a.Control,{type:"text",as:"textarea",onChange:function(e){return O(e.target.value)},name:"text",value:p})]})}),Object(f.jsxs)(P.a.Footer,{children:[Object(f.jsx)(L.a,{type:"button",variant:"success",onClick:function(){return N.apply(this,arguments)},children:"Add"}),Object(f.jsx)(L.a,{type:"button",variant:"danger",onClick:T,children:"Close"})]})]})]})})),te=n(163),ne=n(166),ae=n(161);function ce(e){var t=Object(a.useState)(!1),n=Object(d.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(e.client.coach_notes),o=Object(d.a)(s,2),i=o[0],u=o[1],b=function(){var t=Object(j.a)(l.a.mark((function t(n){var a,c,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={method:"PATCH",headers:{"X-CSRFToken":k.a.get("csrftoken"),"Content-Type":"application/json"},body:JSON.stringify({coach_notes:i})},t.next=3,fetch("/api_v1/accounts/profiles/".concat(e.client.id,"/"),a);case 3:if((c=t.sent).ok){t.next=8;break}console.log(c),t.next=14;break;case 8:return t.next=10,c.json();case 10:s=t.sent,e.handleUpdate(e.client.id,s),u(i),r(!1);case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(f.jsx)("div",{className:"client",children:Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("div",{className:"client-profile",children:Object(f.jsxs)(te.a,{className:"clientprofiles d-flex-col p-2 mb-3",children:[Object(f.jsxs)(ne.a,{className:"d-flex align-items-center",children:[Object(f.jsx)("img",{className:"client-photo rounded-circle",src:e.client.avatar,alt:""}),Object(f.jsxs)("p",{children:[e.client.first_name," ",e.client.last_name]})]}),Object(f.jsxs)(ne.a,{className:"d-flex-col",children:[Object(f.jsxs)("p",{children:["Primary phone: ",e.client.phone_number]}),Object(f.jsxs)("p",{children:["Primary email: ",e.client.email]}),Object(f.jsxs)("p",{children:["Client note: ",e.client.member_notes]}),Object(f.jsx)("label",{children:"Coach note:"}),Object(f.jsx)("textarea",{type:"text",name:"coach_notes",value:i,disabled:!c,cols:"20",onChange:function(e){u(e.target.value)}}),Object(f.jsxs)("p",{children:["PT Coach: ",e.client.coach_name]}),Object(f.jsx)(ae.a,{children:c?Object(f.jsx)("button",{type:"button",className:"edit-note-btn",onClick:b,children:"Save"}):Object(f.jsx)("button",{type:"button",className:"edit-note-btn",onClick:function(){return r(!0)},children:"Edit"})})]})]})},e.client.id)})})}var re=function(e){var t=Object(a.useState)([]),n=Object(d.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(""),i=Object(d.a)(s,2),u=i[0],b=i[1],h=Object(a.useState)(),p=Object(d.a)(h,2),O=p[0],x=p[1];Object(a.useEffect)((function(){function e(){return(e=Object(j.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/api_v1/accounts/profiles/",e.next=3,fetch("/api_v1/accounts/profiles/");case 3:if((t=e.sent).ok){e.next=8;break}console.log(t),e.next=12;break;case 8:return e.next=10,t.json();case 10:n=e.sent,r(n);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var m=function(){var e=Object(j.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t,n);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),v=(u?O:c).filter((function(t){return"pt"===e.computedMatch.params.filter?t.is_client:t})).map((function(e){return Object(f.jsx)("div",{className:"client-detail-column",children:Object(f.jsx)(ce,{client:e,handleUpdate:m},e.id)})}));return Object(a.useEffect)((function(){if(""!==u){var e=c.filter((function(e){var t={first_name:e.first_name,last_name:e.last_name,email:e.email};return Object.values(t).join("").toLowerCase().includes(u.toLowerCase())}));x(e)}else x(c)}),[,u]),Object(f.jsxs)("div",{className:"client-container",children:[Object(f.jsxs)("nav",{className:"client-nav",children:[Object(f.jsx)(o.c,{to:"/clients/",children:"All Members"}),Object(f.jsx)(o.c,{to:"/clients/pt/",children:"Personal Training Clients"}),Object(f.jsx)("input",{className:"client-search",type:"text",name:"search",id:"search",autoComplete:"off",placeholder:"Search Here...",onChange:function(e){b(e.target.value)}})]}),Object(f.jsx)("section",{className:"client-list",children:v})]})};var se=Object(b.i)((function(e){var t=Object(a.useState)(),n=Object(d.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(""),o=Object(d.a)(s,2),i=o[0],b=o[1];Object(a.useEffect)((function(){function e(){return(e=Object(j.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api_v1/accounts/profiles/current_user/");case 2:if((t=e.sent).ok){e.next=7;break}r({first_name:"",last_name:"",phone_number:"",member_notes:"",avatar:null}),e.next=12;break;case 7:return e.next=9,t.json();case 9:n=e.sent,console.log("data",n),r(Object(u.a)({},n));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var h=function(e){var t=e.target,n=t.name,a=t.value;r(Object(u.a)(Object(u.a)({},c),{},Object(m.a)({},n,a)))};function p(e){console.warn(e)}function O(){return(O=Object(j.a)(l.a.mark((function t(n){var a,r,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(a=new FormData).append("first_name",c.first_name),a.append("last_name",c.last_name),a.append("phone_number",c.phone_number),a.append("member_notes",c.member_notes),c.avatar instanceof File&&a.append("avatar",c.avatar),r={method:"POST",headers:{"X-CSRFToken":k.a.get("csrftoken")},body:a},t.next=9,fetch("/api_v1/accounts/profiles/",r).catch(p);case 9:if((s=t.sent).ok){t.next=14;break}console.log(s),t.next=18;break;case 14:return t.next=16,s.json();case 16:t.sent,e.history.push("/workouts");case 18:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function x(){return(x=Object(j.a)(l.a.mark((function e(t){var n,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new FormData,c.avatar instanceof File&&n.append("avatar",c.avatar),n.append("first_name",c.first_name),n.append("last_name",c.last_name),n.append("phone_number",c.phone_number),n.append("member_notes",c.member_notes),a={method:"PUT",headers:{"X-CSRFToken":k.a.get("csrftoken")},body:n},e.next=9,fetch("/api_v1/accounts/profiles/".concat(c.id,"/"),a).catch(p);case 9:if((r=e.sent).ok){e.next=14;break}console.log(r),e.next=17;break;case 14:return e.next=16,r.json();case 16:e.sent;case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return c?Object(f.jsx)("div",{className:"profile-form-container",children:Object(f.jsxs)("form",{className:"col-4 offset-lg-4 profile-form",children:[Object(f.jsxs)("div",{className:"form-group text-left mb-3",children:[Object(f.jsx)("label",{htmlFor:"first_name",children:"First Name: "}),Object(f.jsx)("input",{type:"text",name:"first_name",id:"first_name",placeholder:"First Name",required:!0,value:c.first_name,onChange:h})]}),Object(f.jsxs)("div",{className:"form-group text-left mb-3",children:[Object(f.jsx)("label",{htmlFor:"last_name",children:"Last Name: "}),Object(f.jsx)("input",{type:"text",name:"last_name",id:"last_name",placeholder:"Last Name",required:!0,value:c.last_name,onChange:h})]}),Object(f.jsxs)("div",{className:"form-group text-left mb-3",children:[Object(f.jsx)("label",{htmlFor:"phone_number",children:"Primary Phone: "}),Object(f.jsx)("input",{type:"tel",name:"phone_number",id:"phone_number",placeholder:"+15558675309",required:!0,value:c.phone_number,onChange:h})]}),Object(f.jsxs)("div",{className:"form-group text-left mb-3",children:[Object(f.jsx)("label",{htmlFor:"notes",children:"Notes: "}),Object(f.jsx)("textarea",{name:"member_notes",id:"member_notes",cols:"40",rows:"5",placeholder:"Notes...",value:c.member_notes,onChange:h})]}),Object(f.jsxs)("div",{className:"form-group text-left mb-3",children:[Object(f.jsx)("input",{type:"file",name:"avatar",onChange:function(e){var t=e.target.files[0];r(Object(u.a)(Object(u.a)({},c),{},{avatar:t}));var n=new FileReader;n.onloadend=function(){b(n.result)},n.readAsDataURL(t)}}),c.avatar&&Object(f.jsx)("img",{src:i,alt:""})]}),c.id?Object(f.jsx)("button",{type:"button",className:"btn btn-dark mt-3",id:"profile-button",onClick:function(e){return x.apply(this,arguments)},children:"Update Profile"}):Object(f.jsx)("button",{type:"button",className:"btn btn-dark mt-3",id:"profile-button",onClick:function(e){return O.apply(this,arguments)},children:"Save Profile"})]})}):Object(f.jsx)("div",{children:"SPINNER THINGY"})}));var oe=Object(b.i)((function(){var e=Object(a.useState)(null),t=Object(d.a)(e,2),n=t[0],c=t[1],r=Object(b.g)();function s(){return(s=Object(j.a)(l.a.mark((function e(t,a){var s,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":k.a.get("csrftoken")},body:JSON.stringify(n)},e.next=3,fetch("/rest-auth/logout/",s);case 3:if((o=e.sent).ok){e.next=8;break}console.log(o),e.next=14;break;case 8:return e.next=10,o.json();case 10:e.sent,k.a.remove("Authorization"),c({isAuth:!1}),r.push("/");case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}if(Object(a.useEffect)((function(){var e=function(){var e=Object(j.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/rest-auth/user/");case 2:if((t=e.sent).ok){e.next=7;break}c({isAuth:!1}),e.next=11;break;case 7:return e.next=9,t.json();case 9:n=e.sent,c(Object(u.a)(Object(u.a)({},n),{},{isAuth:!0,isAdmin:n.is_staff}));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[r]),!n)return Object(f.jsx)(h.a,{animation:"border"});var o=null===n||void 0===n?void 0:n.isAuth,i=null===n||void 0===n?void 0:n.isAdmin,p=null===n||void 0===n?void 0:n.username;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(C,{isAuth:o,isAdmin:i,handleLogout:function(e,t){return s.apply(this,arguments)}}),o&&Object(f.jsx)(z,{username:p,isAdmin:i}),Object(f.jsxs)(b.d,{children:[Object(f.jsx)(b.b,{path:"/registration",render:function(e){return Object(f.jsx)(g,Object(u.a)(Object(u.a)({},e),{},{isAuth:o,setUser:c}))}}),Object(f.jsx)(b.b,{path:"/login",render:function(e){return Object(f.jsx)(y,Object(u.a)(Object(u.a)({},e),{},{isAuth:o,setUser:c}))}}),Object(f.jsx)(x,{path:"/profile",isAuth:o,component:se}),Object(f.jsx)(x,{path:"/dashboard",isAuth:o,isAdmin:i,component:G}),Object(f.jsx)(x,{path:"/clients/:filter?",isAuth:o,isAdmin:i,component:re}),Object(f.jsx)(x,{path:"/calendar",isAuth:o,isAdmin:i,component:Y}),Object(f.jsx)(x,{path:"/workouts",isAuth:o,isAdmin:i,component:ee}),Object(f.jsx)(b.b,{path:"/",exact:!0,isAuth:o,isAdmin:i,component:N})]})]})})),ie=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,167)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))};s.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(o.a,{children:Object(f.jsx)(oe,{})})}),document.getElementById("root")),ie()}},[[138,1,2]]]);
//# sourceMappingURL=main.f774a526.chunk.js.map